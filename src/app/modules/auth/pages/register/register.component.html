<div class="register-page">
  <p-card
    class="flex flex-column justify-content-center align-content-center xl:col-6 lg:col-8 md:col-10 col-12 h-full mx-auto "
  >
    <div>
      <h2 class="text-center">REGISTRO</h2>
    </div>
    <form class="mt-5 xl:mx-5 lg:mx-5 md:mx-5 mx-2" [formGroup]="registerForm">
      <div class="mx-auto xl:col-6 lg:col-6 md:col-6 sm:col-6 col-12 m-3">
        <span class="p-float-label">
          <input
            class="w-full"
            id="name"
            formControlName="name"
            type="text"
            pInputText
            [ngClass]="{'ng-invalid ng-dirty': registerForm.get('name')?.invalid && registerForm.get('name')?.touched }"
          />
          <label for="name">Nombre</label>
        </span>
        <div
          *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched ">
          <small class="p-error block">
            El campo es requerido
          </small>
        </div>
      </div>
      <div class="mx-auto xl:col-6 lg:col-6 md:col-6 sm:col-6 col-12 m-3">
        <span class="p-float-label">
          <input
            class="w-full"
            id="surname"
            formControlName="surname"
            type="text"
            pInputText
            [ngClass]="{'ng-invalid ng-dirty': registerForm.get('surname')?.invalid && registerForm.get('surname')?.touched }"
          />
          <label for="surname">Apellido</label>
        </span>
        <div
          *ngIf="registerForm.get('surname')?.invalid && registerForm.get('surname')?.touched ">
          <small class="p-error block">
            El campo es requerido
          </small>
        </div>
      </div>
      <div class="mx-auto xl:col-6 lg:col-6 md:col-6 sm:col-6 col-12 m-3">
        <span class="p-float-label">
          <input
            class="w-full"
            id="email"
            formControlName="email"
            type="email"
            pInputText
            [ngClass]="{'ng-invalid ng-dirty': registerForm.get('email')?.invalid && registerForm.get('email')?.touched }"
          />
          <label for="email">Email</label>
        </span>
        <div
          *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched ">
          <small
            class="p-error block"
            *ngIf="registerForm.get('email')?.hasError('required')"
          >
            El campo es requerido
          </small>
          <small
            class="p-error block"
            *ngIf="registerForm.get('email')?.hasError('pattern')"
          >
            Debe de escribir un email válido
          </small>
        </div>
      </div>
      <div class="mx-auto xl:col-6 lg:col-6 md:col-6 sm:col-6 col-12 m-3">
        <span class="p-float-label">
          <input
            class="w-full"
            id="password"
            formControlName="password"
            [ngClass]="{'ng-invalid ng-dirty': registerForm.get('password')?.invalid && registerForm.get('password')?.touched }"
            type="password"
            pInputText
          />
          <label for="password">Contraseña</label>
        </span>
        <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched ">
          <small class="p-error block">
            El campo es requerido
          </small>
        </div>
      </div>
    </form>
  
      <div class="flex justify-content-center">
        <button
          pButton
          class="p-button-info mb-3 shadow-none"
          (click)="signUp()"
        >
          Crear usuario
        </button>
      </div>
    <div class="flex flex-column">
      <p class="text-center mb-2">¿Ya tienes una cuenta?</p>
      <p class="text-center mb-2 underline pointer" routerLink="/login">
        Iniciar sesión
      </p>
    </div>
  </p-card>

  <p-toast key="toast" position="top-center" [baseZIndex]="5000">
    <ng-template let-message pTemplate="message">
      <div class="flex flex-column" style="flex: 1">
          <div class="text-center">
              <i [class]="message.icon" style="font-size: 3rem"></i>
              <h4>{{message.summary}}</h4>
              <p>{{message.detail}}</p>
          </div>
      </div>
    </ng-template>
  </p-toast>
</div>

